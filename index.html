<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 </title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f0f0f0; }
  .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 8px; }
  img.flag { width: 40px; vertical-align: middle; }
  h1 { text-align: center; }
  .info { margin-top: 20px; }
  .info p { line-height: 1.5; }
</style>
</head>
<body>
  <div class="container">
    <h1>PurplesStrat iOS</h1>
    <div id="ip-info" class="info">Loading page...</div>
  </div>

<script>
  const url = 'https://ipwhois.app/json/';
  const redirectUrl = 'https://purplesstrat.github.io/app/debug.html';

  async function loadIPInfo() {
    try {
      const response = await fetch(url);
      if (!response.ok) throw new Error('Network response was not ok');
      const data = await response.json();

      if (!data.success) {
        document.getElementById('ip-info').textContent = 'Failed to load IP info.';
        return;
      }

      const infoHTML = `
        <p><strong>IP:</strong> ${data.ip}</p>
        <p><strong>Type:</strong> ${data.type}</p>
        <p><strong>Continent:</strong> ${data.continent} (${data.continent_code})</p>
        <p><strong>Country:</strong> <img src="${data.country_flag}" alt="Flag" class="flag" /> ${data.country} (${data.country_code})</p>
        <p><strong>Capital:</strong> ${data.country_capital}</p>
        <p><strong>Region:</strong> ${data.region}</p>
        <p><strong>City:</strong> ${data.city}</p>
        <p><strong>Latitude:</strong> ${data.latitude}</p>
        <p><strong>Longitude:</strong> ${data.longitude}</p>
        <p><strong>ASN:</strong> ${data.asn}</p>
        <p><strong>Organization:</strong> ${data.org}</p>
        <p><strong>ISP:</strong> ${data.isp}</p>
        <p><strong>Timezone:</strong> ${data.timezone} (${data.timezone_name})</p>
        <p><strong>Currency:</strong> ${data.currency} (${data.currency_code}) - Symbol: ${data.currency_symbol}</p>
      `;

      document.getElementById('ip-info').innerHTML = infoHTML;

      setTimeout(() => {
        window.location.href = redirectUrl;
      }, 3000);

    } catch {
      document.getElementById('ip-info').textContent = 'Error loading IP info.';
    }
  }

  loadIPInfo();
</script>
</body>
</html>
